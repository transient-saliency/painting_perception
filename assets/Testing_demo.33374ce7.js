import{_ as f,u as h,y as m,z as d,A as r,o as _,c as u,b as o,G as g,H as c,v as p,x as v}from"./index.5b055de9.js";import{f as D}from"./data_description.7641a64d.js";const I={name:"home_view",data(){return{msgH:null,figCnt:-1,allData:[],timeNote:0,imgURL:"",typeGroup:["a-b","l-a","l-b"],isGap:!1,fig_res_data:[],intervalID:null,timeoutID:null}},computed:{initSign(){return 1},loadingText(){return"Loading"}},mounted(){h(),this.allData=D.data,this.fig_res_data=this.calcPic(this.allData),this.startInterval()},beforeDestroy(){this.intervalID&&clearInterval(this.intervalID),this.timeoutID&&clearTimeout(this.timeoutID)},methods:{calcPic(t){this.imgURL="",this.isPic=!0;let e=new Array;for(let i in t){let a=t[i].name;for(let s of this.typeGroup)for(let n in t[i][s].fig_info){let l=a+"/"+t[i][s].fig_info[n];e.push(l)}}return e=this.shuffleArray(e),this.saveData(e),e},saveData(t){let i={info:h().info,data:t};m.post("https://formspree.io/f/xqkrgypr",{data:JSON.stringify(i),dataType:"json",testType:"test1"}).then(a=>{console.log(a)}).catch(a=>{console.log(a)})},shuffleArray(t){for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t},executeFunction(){this.isGap=!this.isGap,this.figCnt+=1,this.figCnt>=this.fig_res_data.length&&this.$router.push("/beforeTest2");let t=this.fig_res_data[this.figCnt];this.imgURL="painting/"+t,this.timeoutID=setTimeout(()=>{this.startInterval()},15e3)},startInterval(){this.intervalID&&clearInterval(this.intervalID),this.timeoutID&&clearTimeout(this.timeoutID),this.isGap=!this.isGap;let t=10;this.timeNote=t,this.intervalID=setInterval(()=>{t>0?(t-=1,this.timeNote=t):(clearInterval(this.intervalID),this.executeFunction())},1e3)}},watch:{},components:{}},y=["element-loading-text"],x={style:{height:"100%",width:"100%"}},b={class:"fullscreen-img"},G=["src"],w={style:{width:"100%",height:"100%",display:"flex","justify-content":"center","flex-direction":"column","padding-top":"calc(0vh)"}},T={style:{"margin-bottom":"30px","font-size":"20px",color:"white"}};function S(t,e,i,a,s,n){const l=d("loading");return r((_(),u("div",{class:"common-layout",style:v({width:"100%",height:"100vh",backgroundColor:s.isGap?" #797775":"white"}),"element-loading-text":n.loadingText,"element-loading-background":"rgba(0, 0, 0, 0.8)"},[o("div",x,[r(o("div",b,[o("img",{ref:"myImage",src:s.imgURL,alt:"",class:g({})},null,8,G)],512),[[c,!s.isGap]]),r(o("div",w,[o("div",T,"\u4F11\u606F "+p(s.timeNote)+" \u79D2",1)],512),[[c,s.isGap]])])],12,y)),[[l,!n.initSign]])}const k=f(I,[["render",S],["__scopeId","data-v-f1ae424b"]]);export{k as default};
